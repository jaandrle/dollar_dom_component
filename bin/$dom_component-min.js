function init(e){"use strict";let t={empty:function(e){let t=e.childNodes.length;for(;t--;)e.removeChild(e.lastChild)},insertAfter:function(e,t){const{parentNode:n,nextSibling:r}=t;r?n.insertBefore(e,r):n.appendChild(e)},replace:function(e,n){t.insertAfter(n,e),e.remove()},component:function(e,n,{mapUpdate:r}={}){let s=null;const o=document.createDocumentFragment();let i,l=[],c=0,a=[];const{onupdate:u}=d(e,n),f={add:d,component:function({mount:e,update:t,isStatic:n},r=0){p(r),l[c]=e(l[h()]),n()||(s||(s=b()),s.registerComponent(t));c+=1},mount:g,update:m,share:{mount:g,update:m,destroy:function(){return i.remove(),null},isStatic:function(){return!s}}};return Object.assign({},f,{onupdate:function(...e){return u(...e),f}});function d(e,n,r=0){p(r),n=n||{};const a=document.createElement(e);c?l[c]=l[h()].appendChild(a):i=l[0]=o.appendChild(a);let u=l[c];return c++,t.assign(u,n),{getReference:()=>u,onupdate:function(e,n){if(!e)return!1;s||(s=b()),t.assign(u,s.register(u,e,n))}}}function g(e,n="childLast"){switch(n){case"replace":t.replace(e,o);break;case"replaceContent":t.empty(e),e.appendChild(o);break;case"before":e.parentNode.insertBefore(o,e);break;case"after":t.insertAfter(o,e);break;default:"childFirst"===n&&e.childNodes.length?e.insertBefore(o,e.childNodes[0]):e.appendChild(o)}return i}function p(e){e?(a.splice(a.length+1+e),a[a.length-1]=c):a.push(c)}function h(){return a[a.length-2]}function b(){const e={},n=[],s=new Map,o=new Map,i=new Map;let l=0;return{register:function(t,n,r){Object.assign(e,n);const c=l++;s.set(c,t);const a=Object.keys(n);for(let e,t=0,n=a.length;t<n;t++)e=a[t],i.has(e)?i.set(e,[...i.get(e),c]):i.set(e,[c]);return o.set(c,r),r.call(t,n)||{}},registerComponent:function(e){-1===n.indexOf(e)&&n.push(e)},update:function(l){const a="function"==typeof r?r(l):l;let u=!1;for(let e=0,t=n.length;e<t;e++)n[e](a)&&!u&&(u=!0);if(!i.size)return u;const f=Object.keys(a).filter(t=>i.has(t)&&e[t]!==a[t]),d=f.length;if(!d)return u;Object.assign(e,a);const g=[];for(let e,t=0;t<d;t++)for(let n,r=0,s=(e=i.get(f[t])).length;r<s;r++)n=e[r],-1===g.indexOf(n)&&g.push(n);for(let e=0,t=g.length;e<t;e++)p(g[e]);return!0;function p(n){const r=o.get(n).call(s.get(n),e)||{},i=s.get(n);if(null===i.parentNode)return c(n,f);t.assign(i,r)}},unregister:c};function c(e,t){o.delete(e),s.delete(e);for(let e,r,s=0,o=t.length;s<o;s++)e=t[s],1===(r=i.get(e)).length?i.delete(e):i.set(e,r.filter(n));function n(t){return t!==e}}}function m(e){return!!s&&s.update(e)}},assign:function(e,t){const n=Object.keys(t);for(let r,s,o=0,i=n.length;o<i;o++)if(void 0!==(s=t[r=n[o]]))switch(r){case"style":if("string"==typeof s)e.setAttribute("style",s);else for(let t,n=0,r=Object.keys(s),o=r.length;n<o;n++)t=r[n],e.style.setProperty(t,s[t]);break;case"style_vars":for(let t,n=0,r=Object.keys(s),o=r.length;n<o;n++)t=r[n],e.style.setProperty(t,s[t]);break;case"classList":if(!e[r].toggle)break;for(let t,n,r=0,o=Object.keys(s),i=o.length;r<i;r++)-1===(n=s[t=o[r]])?e.classList.toggle(t):e.classList.toggle(t,Boolean(n));break;case"dataset":for(let t,n=0,r=Object.keys(s),o=r.length;n<o;n++)t=r[n],e.dataset[t]=s[t];break;case"href":e.setAttribute(r,s);break;default:e[r]=s}else e[r]&&delete e[r]}};e.$dom=t}init(window);