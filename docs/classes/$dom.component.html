<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Documentation: $dom.component@0.1.0</title>
    <link rel="stylesheet" href="../assets/from_yahhoapis/cssgrids-min.css">
<link rel="stylesheet" href="http://yui.yahooapis.com/3.8.0pr2/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <script src="../assets/from_yahhoapis/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            <h1><a href="../index.html"><img src="../assets/css/logo.png" width="117" height="52">$dom.component</a>: $dom.component</h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.1.0</em>
        </div>
    </div>
    <div class="yui3-g">

        <div id="sidebar" class="yui3-u">
            <div id="modules" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Modules</h2>
                </div>
                <div class="bd">
                    <ul>
                    </ul>
                </div>
            </div>
            
            <div id="classes" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Classes</h2>
                </div>
                <div class="bd">
                    <ul>
                            <li><a href="../classes/$dom.component.html">$dom.component</a></li>
                            <li><a href="../classes/$dom.{namespace}.html">$dom.{namespace}</a></li>
                    </ul>
                </div>
            </div>
            
            <div id="elements" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Elements</h2>
                </div>
                <div class="bd">
                    <ul>
                    </ul>
                </div>
            </div>
            
            <div id="methods-on-page" class="sidebox on-page">
                <div class="hd">
                    <h2 class="no-toc">Methods On Page</h2>
                </div>
                <div class="bd">
                    <ul>
                            <li class="menuli"><a href="#methods_add">add</a> <i style="color: green;">(public)</i></li>
                            <li class="menuli"><a href="#methods_component">component</a> <i style="color: green;">(public)</i></li>
                            <li class="menuli"><a href="#methods_destroy">destroy</a> <i style="color: green;">(public)</i></li>
                            <li class="menuli"><a href="#methods_getParentIndex">getParentIndex</a> <i style="color: green;">(private)</i></li>
                            <li class="menuli"><a href="#methods_initStorage">initStorage</a> <i style="color: green;">(private)</i></li>
                            <li class="menuli"><a href="#methods_isStatic">isStatic</a> <i style="color: green;">(public)</i></li>
                            <li class="menuli"><a href="#methods_mount">mount</a> <i style="color: green;">(public)</i></li>
                            <li class="menuli"><a href="#methods_recalculateDeep">recalculateDeep</a> <i style="color: green;">(private)</i></li>
                            <li class="menuli"><a href="#methods_update">update</a> <i style="color: green;">(public)</i></li>
                    </ul>
                </div>
            </div>
            
            
            
            
            <div id="fileTree" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Files</h2>
                </div>
                <div class="bd">
                    <ul><li>src/<ul><li><a href="../files/src_$dom_component.js.html">$dom_component.js</a></li></ul></li></ul>
                </div>
            </div>
            
        </div>

        <div id="main" class="yui3-u">
            <div class="content"><h4>Class $dom.component</h4>
<span class="foundat">Class defined in: <a href="../files/src_$dom_component.js.html#l42"><code>src&#x2F;$dom_component.js:42</code></a></span>
<div class="intro"><p>This 'functional class' is syntax sugar around <a href="https://developer.mozilla.org/en-US/docs/Web/API/DocumentFragment"><code>DocumentFragment</code></a> for creating DOM components and their adding to live DOM in performance friendly way.</p>
</div>

<a name="methods_$dom.component"></a>
<div class="method item">
    <a href="../classes/$dom.component.html" class="crosslink">$dom.component</a> <strong class="name"><code>$dom.component</code></strong>( <code>el_name</code>, <code>attrs</code>, <code>params</code> ) 
    <br>
    <span class="foundat">
        
        <a href="../files/src_$dom_component.js.html#l42"><code>src&#x2F;$dom_component.js:42</code></a>
    </span><br>
    
    <strong>Parameters:</strong>
    <ul class="params">
        <li>
            <code>el_name</code> <strong>&lt;String&gt;</strong>
        <ul>
<li>Name of element (for example <code>LI</code>, <code>P</code>, <code>A</code>, ...).</li>
<li>This is parent element of component.</li>
</ul>

        </li>
        <li>
            <code>attrs</code> <strong>&lt;Object&gt;</strong>
        <ul>
<li>The second argument for <a href="./$dom.%7Bnamespace%7D.html#methods_assign"><code>$dom.assign</code></a></li>
<li>There is one change. It is supported using <code>onupdate</code> key ... see <a href="#methods_add"><code>add</code></a>
<ul>
<li><code>onupdate</code> is array <code>[ object, function]</code>, the function is called during creating element and evry <code>update</code>calls</li>
<li>It returns additional <code>attrs</code>, for example this <code>attrs</code>: <code>{ className: &quot;class&quot;, onupdate: [ { a }, _=&gt;({ textContent: a }) ] }</code> =&gt; final <code>attrs= { className: &quot;class&quot;, textContent: &quot;A&quot; }</code> (if <code>a=&quot;A&quot;</code>)</li>
<li>it use similar algorithm like <a href="./$dom.%7Bnamespace%7D.html#methods_assign"><code>$dom.assign</code></a> (<strong>no deep copy!!!</strong>)</li>
</ul>
</li>
</ul>

        </li>
        <li>
            <code>params</code> <strong>&lt;Object&gt;</strong>
         
            <ul>
                <li><code>mapUpdate</code> <strong>&lt;Function | Boolean&gt;</strong> <ul>
<li><code>[params.mapUpdate=undefined]</code></li>
<li>This function (if defined) remap <code>update(DATA)</code> to varibales used in keys <code>attrs.onupdate</code> ... see <a href="#methods_add"><code>add</code></a></li>
</ul>

                </li>
            </ul>
        </li>
    </ul>
    <br><div class="returns"><strong>Returns:</strong> &lt;<a href="../classes/$dom.component.html" class="crosslink">$dom.component</a>&gt; <ul>
<li>'functional class instance': object <code>{ add, component, mount, update, share }</code></li>
<li><code>share</code> is Object for transfering methods somewhere else (like for using in another component, see <a href="#methods_component"><code>component</code></a>)
<ul>
<li><code>share= { mount, update, destroy, isStatic }</code></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="classdocs"><style>#classdocs .menuli { list-style: none; display: inline-block; border-left: 1px solid black; padding: .5em 1em; }</style>
    <ul>
        <li class="menuli"><a href="#methods">Methods</a></li>
    </ul>
    <div>
            <div id="methods"><h4>Methods</h4>
<a name="methods_add"></a>
<div class="method item public">
     <strong class="name"><code>add</code></strong>( <code>el_name</code>, <code>attrs</code>, [ <code>shift</code> = 0 ] ) <em><code>&#x2F;* public method *&#x2F;</code></em>
    <br>
    <span class="foundat">
        
        <a href="../files/src_$dom_component.js.html#l84"><code>src&#x2F;$dom_component.js:84</code></a>
    </span><br>
    <p>This add element to component</p>

    <strong>Parameters:</strong>
    <ul class="params">
        <li>
            <code>el_name</code> <strong>&lt;String&gt;</strong>
        <ul>
<li>Name of element (for example <code>LI</code>, <code>P</code>, <code>A</code>, ...).</li>
</ul>

        </li>
        <li>
            <code>attrs</code> <strong>&lt;Object&gt;</strong>
        <ul>
<li><code>null|undefined</code> is also supported (<code>null</code> is probably recommendet for better readability)</li>
<li>The second argument for <a href="./$dom.%7Bnamespace%7D.html#methods_assign"><code>$dom.assign</code></a></li>
</ul>

            <ul>
                <li><code>onupdate</code> <strong>&lt;Array&gt;</strong> <ul>
<li>Pattern: <code>attrs.onupdate= [ Values: Object, Retuns_attrs_keys: Function ]</code></li>
<li>This register listener/subscriber function (<code>Retuns_attrs_keys</code>) for keys (variables) in <code>Values</code></li>
<li>Example: <code>[ {counter}, _=&gt;({ textContent: counter }) ]</code> registers listerner to <code>counter</code>. When the <code>udate({ ... counter: something, ...})</code> is called this element changes <code>textContent</code>.</li>
<li>See <a href="#methods_update"><code>update</code></a></li>
</ul>

                </li>
            </ul>
        </li>
        <li>
            [<code>shift</code>= 0] <strong>&lt;Number&gt;</strong>
        <ul>
<li>Modify nesting behaviur. By default (<code>shift= 0</code>), new element is child of previus element. Every <code>-1</code> means moving to the upper level against current one - see example.</li>
</ul>

        </li>
    </ul>
        <h5>Example</h5>
        <pre class="code prettyprint"><code> //#1
 const UL= document.getElementById('SOME UL');
 const { add }= $dom.component(&quot;LI&quot;, { className: &quot;list_item&quot; });//&lt;li class=&quot;list_item&quot;&gt;...&lt;/li&gt;
 add(&quot;DIV&quot;, { textContent: &quot;Child of .list_item&quot;, className: &quot;deep1&quot; });//&lt;li class=&quot;list_item&quot;&gt;&lt;div class=&quot;deep1&quot;&gt;...&lt;/div&gt;&lt;/li&gt;
     add(&quot;DIV&quot;, { textContent: &quot;Child of div.deep1&quot;, className: &quot;deep2&quot; });//...&lt;div class=&quot;deep1&quot;&gt;&lt;div class=&quot;deep2&quot;&gt;...&lt;/div&gt;&lt;/div&gt;...
         add(&quot;DIV&quot;, { textContent: &quot;Child of div.deep2&quot;, className: &quot;deep3&quot; });//...&lt;div class=&quot;deep1&quot;&gt;&lt;div class=&quot;deep2&quot;&gt;&lt;div class=&quot;deep3&quot;&gt;...&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;...
         add(&quot;DIV&quot;, { textContent: &quot;Child of div.deep2&quot;, className: &quot;deep3 mark&quot; }, -1);//...&lt;div class=&quot;deep2&quot;&gt;&lt;div class=&quot;deep3&quot;&gt;...&lt;/div&gt;&lt;div class=&quot;deep3&quot;&gt;...&lt;/div&gt;&lt;/div&gt;...
 //next add(*) schoul be child of div.deep3.mark, by -1 it is ch.of div.deep2, by -2 ch.of div.deep1, by -3 ch.of li.list_item because div.deep3.mark is on 3rd level
     add(&quot;DIV&quot;, { textContent: &quot;Child of div.deep1&quot;, className: &quot;deep2 nextone&quot; }, -2);//this is on 2nd level
 add(&quot;DIV&quot;, { textContent: &quot;Child of div.deep1&quot;, className: &quot;deep2 nextone&quot; }, -2);//this is on 0 level
     add(&quot;DIV&quot;, null); // just DIV without attributes
 ...</code></pre>

</div>
<a name="methods_component"></a>
<div class="method item public">
     <strong class="name"><code>component</code></strong>( <code>share</code>, <code>shift</code> ) <em><code>&#x2F;* public method *&#x2F;</code></em>
    <br>
    <span class="foundat">
        
        <a href="../files/src_$dom_component.js.html#l128"><code>src&#x2F;$dom_component.js:128</code></a>
    </span><br>
    <p>Method for including another component by usint its <code>share</code> key.</p>

    <strong>Parameters:</strong>
    <ul class="params">
        <li>
            <code>share</code> <strong>&lt;Object&gt;</strong>
         
        </li>
        <li>
            <code>shift</code> <strong>&lt;Number&gt;</strong>
        <ul>
<li>see <a href="#methods_add"><code>add</code></a></li>
</ul>

        </li>
    </ul>
</div>
<a name="methods_destroy"></a>
<div class="method item public">
     <strong class="name"><code>destroy</code></strong>(  ) <em><code>&#x2F;* public method *&#x2F;</code></em>
    <br>
    <span class="foundat">
        
        <a href="../files/src_$dom_component.js.html#l182"><code>src&#x2F;$dom_component.js:182</code></a>
    </span><br>
    <p>Method remove element form live DOM and returns null</p>

        <h5>Example</h5>
        <p>let { share: test }= $dom.component(&quot;DIV&quot;, null);
test.mount(document.body);
test= test.destroy();</p>

</div>
<a name="methods_getParentIndex"></a>
<div class="method item private">
     <strong class="name"><code>getParentIndex</code></strong>(  ) <em><code>&#x2F;* private method *&#x2F;</code></em>
    <br>
    <span class="foundat">
        
        <a href="../files/src_$dom_component.js.html#l206"><code>src&#x2F;$dom_component.js:206</code></a>
    </span><br>
    <p>Returns current <code>deep</code> (last element in array)</p>

</div>
<a name="methods_initStorage"></a>
<div class="method item private">
    Object <strong class="name"><code>initStorage</code></strong>(  ) <em><code>&#x2F;* private method *&#x2F;</code></em>
    <br>
    <span class="foundat">
        
        <a href="../files/src_$dom_component.js.html#l214"><code>src&#x2F;$dom_component.js:214</code></a>
    </span><br>
    <p>Initialize internal storage</p>

    <br><div class="returns"><strong>Returns:</strong> &lt;Object&gt; <ul>
<li><code>{ register, registerComponent, update, unregister}</code></li>
</ul>
</div>
</div>
<a name="methods_isStatic"></a>
<div class="method item public">
    Boolean <strong class="name"><code>isStatic</code></strong>(  ) <em><code>&#x2F;* public method *&#x2F;</code></em>
    <br>
    <span class="foundat">
        
        <a href="../files/src_$dom_component.js.html#l314"><code>src&#x2F;$dom_component.js:314</code></a>
    </span><br>
    <p>Methods returns if it was <code>onupdate</code> used</p>

    <br><div class="returns"><strong>Returns:</strong> &lt;Boolean&gt; <ul>
<li>If there is some listeners <code>onupdate</code></li>
</ul>
</div>
</div>
<a name="methods_mount"></a>
<div class="method item public">
     <strong class="name"><code>mount</code></strong>( <code>element</code>, [ <code>type</code> = &quot;childLast&quot; ] ) <em><code>&#x2F;* public method *&#x2F;</code></em>
    <br>
    <span class="foundat">
        
        <a href="../files/src_$dom_component.js.html#l145"><code>src&#x2F;$dom_component.js:145</code></a>
    </span><br>
    <p>Add element to live DOM</p>

    <strong>Parameters:</strong>
    <ul class="params">
        <li>
            <code>element</code> <strong>&lt;NodeElement&gt;</strong>
        <ul>
<li>Element where to places this component</li>
</ul>

        </li>
        <li>
            [<code>type</code>= &quot;childLast&quot;] <strong>&lt;String&gt;</strong>
        <ul>
<li>Change type of mounting</li>
<li><code>childLast</code> places component as last child</li>
<li><code>childFirst</code> places component as first child</li>
<li><code>replaceContent</code> removes content of <code>element</code> and places component as child (uses <code>$dom.empty</code>)</li>
<li><code>replace</code> replaces <code>element</code> by component</li>
<li><code>before</code> places component before <code>element</code></li>
<li><code>after</code> places component after <code>element</code> (uses <code>$dom.insertAfter</code>)</li>
</ul>

        </li>
    </ul>
</div>
<a name="methods_recalculateDeep"></a>
<div class="method item private">
     <strong class="name"><code>recalculateDeep</code></strong>( <code>shift</code> ) <em><code>&#x2F;* private method *&#x2F;</code></em>
    <br>
    <span class="foundat">
        
        <a href="../files/src_$dom_component.js.html#l195"><code>src&#x2F;$dom_component.js:195</code></a>
    </span><br>
    <p>Updates <code>deep</code></p>

    <strong>Parameters:</strong>
    <ul class="params">
        <li>
            <code>shift</code> <strong>&lt;Number&gt;</strong>
        <ul>
<li>see <a href="#methods_add"><code>add</code></a></li>
</ul>

        </li>
    </ul>
</div>
<a name="methods_update"></a>
<div class="method item public">
     <strong class="name"><code>update</code></strong>( <code>new_data</code> ) <em><code>&#x2F;* public method *&#x2F;</code></em>
    <br>
    <span class="foundat">
        
        <a href="../files/src_$dom_component.js.html#l288"><code>src&#x2F;$dom_component.js:288</code></a>
    </span><br>
    <p>Method updates all registered varibles by keys <code>onupdates</code> and calls follower functions</p>

    <strong>Parameters:</strong>
    <ul class="params">
        <li>
            <code>new_data</code> <strong>&lt;Object&gt;</strong>
        <ul>
<li>When <code>$dom.component</code> is initialized, it is possible to register <code>mapUpdate</code></li>
<li><strong>It's because internally, it is used <code>Object.assign</code> (no deep copy) to merge new data with older one!!!</strong></li>
</ul>

        </li>
    </ul>
        <h5>Example</h5>
        <pre class="code prettyprint"><code> const data_A= { a: &quot;A&quot; };
 const data_A_update= { a: &quot;AAA&quot; };
 const { add, mount, update }= $dom.component(&quot;UL&quot;, null);
     add(&quot;LI&quot;, { onupdate: [ { a }, ({ a })=&gt;({ textContent: a }) ] });//<code>[ { a },</code> add listener for &quot;a&quot;
 mount(document.body);
 update(data_A_update);
 //BUT
 const data_B= { a: { b: &quot;A&quot; }};
 const data_B_update= { a: { b: &quot;AAA&quot; }};
 const { add, mount, update }= $dom.component(&quot;UL&quot;, null, { mapUpdate: d=&gt;({ a: d.a.b }) });
     add(&quot;LI&quot;, { onupdate: [ { a: data_B.a.b }, ({ a })=&gt;({ textContent: a }) ] });//<code>[ { a },</code> add listener for &quot;a&quot;
 mount(document.body);
 update(data_B_update);</code></pre>

</div>
            </div>
    </div>
</div>
</div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>

</body>
</html>
