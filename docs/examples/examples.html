<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>gulp_place("app.name", "variable") — Examples</title>
    <script type="text/javascript" src="$dom_component-min.js?v=gulp_place('app.version', 'variable')"></script>
    <style>
        gulp_place("examples.css", "file_once")
    </style>
</head>
<body>
    <article>
        <h1>gulp_place("app.name", "variable") — Examples</h1>
        <a href="https://github.com/jaandrle/dollar_dom_component">⇠ Go back to GitHub repository</a>
        <h2 id="heading_content">Content</h2>
        <ul class="content"></ul>
        <script>
            function onKeyup(script, id){
                const el= document.getElementById(id);
                $dom.empty(el);
                eval(script.textContent);
            }
        </script>
        gulp_place("app._BUILD_= { example_el_id: 1 }", "eval");
        gulp_place("/example_\wh2.sub.html", "glob_once");


        <script>
            document.addEventListener("paste", function enableInScriptTags(ev){
                ev.preventDefault();
                document.execCommand('insertText', false, ev.clipboardData.getData('text/plain'));
            });
            document.addEventListener("keydown", function enableInScriptTags(ev){
                if(ev.target.tagName!=="SCRIPT"&&ev.target.tagName!=="STYLE") return false;
                const { keyCode }= ev;
                if(keyCode!==9&&keyCode!==13) return false;

                ev.preventDefault();
                document.execCommand('insertText', false, keyCode===9 ? "    " : "\n                ");
            });
            let h2_counter= 0;
            const content_ul= document.getElementsByClassName('content')[0];
            [ ...document.getElementsByTagName('h2') ].forEach(function(el){
                const textContent= el.textContent;
                if(textContent==="Content") return false;
                const id= "heading_"+h2_counter++;
                contentH2({ textContent, id }).mount(el, "replace");
                contentLI({ textContent, id }).mount(content_ul);
            });
            function contentLI({ textContent, id }){
                const href= "#"+id;
                const { add, share }= $dom.component("LI", null);
                    add("A", { textContent, href });
                return share;
            }
            function contentH2({ textContent, id }){
                const { add, share }= $dom.component("H2", { id });
                    add("A", { textContent: "⇡", href: "#heading_content" });
                    add("SPAN", { textContent: " "+textContent }, -1);
                return share;
            }
        </script>
    </article>
</body>
</html>