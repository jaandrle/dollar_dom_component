function init(e){"use strict";const t={empty:function(e){let t=e.childNodes.length;for(;t--;)e.removeChild(e.lastChild)},insertAfter:function(e,t){const{parentNode:n,nextSibling:r}=t;r?n.insertBefore(e,r):n.appendChild(e)},replace:function(e,n){t.insertAfter(n,e),e.remove()}},n=function(){let e={add:function(){return e},component:function(){return e},mount:n,update:r,ondestroy:o,share:{mount:n,update:r,destroy:function(){return e=null,null},ondestroy:o,isStatic:function(){return!0}}};return e;function n(e,n="childLast"){switch(n){case"replace":e.remove();break;case"replaceContent":t.empty(e)}return null}function r(){return!0}function o(){return!0}}();t.component=function(e,r,{mapUpdate:o,namespace_group:i}={}){if("EMPTY"===(e=e?e.toUpperCase():"EMPTY"))return n;let s,l;"SVG"===e&&(i="SVG"),"SVG"===i?(s=t.assignNS.bind(null,"SVG"),l=document.createElementNS.bind(document,"http://www.w3.org/2000/svg")):(s=t.assign,l=document.createElement.bind(document));let c=null,u=null,a=null,f=null;const d=document.createDocumentFragment();let p,g=[],h=0,b=[];let m={add:k,addText:function(e,t=0){w(t);const n=document.createTextNode(e);let r=g[h]=j().appendChild(n);return h+=1,Object.assign({oninit:function(e){return e(r),m}},m)},component:function({mount:e,update:t,isStatic:n},r=0){w(r),g[h]=e(j()),n()||(c||(c=S()),c.registerComponent(t));return h+=1,m},dynamicComponent:function(e,t,n=0){w(n);const r=j();let o=null,i=null,s=null;function l(e){i=e,s=s?i.mount(s,"replace"):i.mount(r)}return y.onupdate(m,r,e,function(e){o=t.call(r,l,i,e,o)})},setShift:function(e=0){let t;e?b.splice(b.length+1+e):(t=b.pop(),b.push(t,t));return m},mount:v,update:C,ondestroy:N,share:{mount:v,update:C,destroy:O,ondestroy:N,isStatic:function(){return!c}}},y={getReference:function(e,t){return t},on:function(e,t,...n){return n.forEach(([t,n])=>e[t].apply(this,n)),e},oninit:function(e,t,n){return n(t),e},onmount:function(e,t,n){return a||(a=new Map),a.set(t,n),e},onupdate:function(e,t,n,r){return n?(c||(c=S()),s(t,c.register(t,n,r)),e):e}};return k(e,r);function k(e,t,n=0){w(n),t=t||{};const r=l(e.toLowerCase());h?g[h]=j().appendChild(r):p=g[0]=d.appendChild(r);let o=g[h];h+=1,s(o,t);const i=Object.assign({},m);return i.getReference=y.getReference.bind(null,i,o),i.on=y.on.bind(null,i,o),i.oninit=y.oninit.bind(null,i,o),i.onmount=y.onmount.bind(null,i,o),i.onupdate=y.onupdate.bind(null,i,o),i}function v(e,n="childLast"){f&&f.disconnect();const r=!d.firstChild&&p?p:d;let o;switch(n){case"replace":o=e.parentNode,t.replace(e,r);break;case"replaceContent":t.empty(e),e.appendChild(r),o=e;break;case"before":(o=e.parentNode).insertBefore(r,e);break;case"after":t.insertAfter(r,e),o=e.parentNode;break;default:"childFirst"===n&&e.childNodes.length?e.insertBefore(r,e.childNodes[0]):e.appendChild(r),o=e}return(f=new MutationObserver(e=>e.forEach(function(e){if(!e.removedNodes||-1===Array.prototype.indexOf.call(e.removedNodes,p))return!1;O()}))).observe(o,{childList:!0,subtree:!0,attributes:!1,characterData:!1}),a&&(a.forEach(function(r,o){return t.assign(o,r.call(o,e,n))}),a=void 0),p}function O(){return u&&u.forEach(e=>e.call(p)),p&&(p.remove(),g=[]),f&&f.disconnect(),f=void 0,u=void 0,s=void 0,l=void 0,p=void 0,c=void 0,m=void 0,y=void 0,null}function N(e){return u||(u=new Set),u.add(e),m}function w(e){e?(b.splice(b.length+1+e),b[b.length-1]=h):b.push(h)}function j(){return g[b[b.length-2]]||d}function S(){const e={},n=[],r=new Map,i=new Map,s=new Map;let l=0;return{register:function(t,n,o){Object.assign(e,n);const l=u(r,t)+"_"+u(i,o),c=Object.keys(n);for(let e,t=0,n=c.length;t<n;t++)e=c[t],s.has(e)?s.get(e).push(l):s.set(e,[l]);return o.call(t,n)||{}},registerComponent:function(e){-1===n.indexOf(e)&&n.push(e)},update:function(l){const u="function"==typeof o?o(l):l;let a=!1;for(let e=0,t=n.length;e<t;e++)n[e](u)&&!a&&(a=!0);if(!s.size)return a;const f=Object.keys(u).filter(t=>s.has(t)&&e[t]!==u[t]),d=f.length;if(!d)return a;Object.assign(e,u);const p=[];for(let e,t=0;t<d;t++)for(let n,r=0,o=(e=s.get(f[t])).length;r<o;r++)n=e[r],-1===p.indexOf(n)&&p.push(n);for(let e=0,t=p.length;e<t;e++)g(p[e]);return!0;function g(n){const[o,s]=n.split("_").map(Number),l=r.get(o),u=i.get(s).call(l,e)||{};if(null===l.parentNode)return c(o,s,f);t.assign(l,u)}},getData:function(){return e},unregister:c};function c(e,t,n){let o=0;function l(t){return Number(t.split("_")[0])!==e}r.delete(e),s.forEach(function(e,r){if(-1===n.indexOf(r))return e.forEach(function(e){Number(e.split("_")[1])===t&&(o+=1)});1===e.length?s.delete(r):s.set(r,e.filter(l))}),o||i.delete(t)}function u(e,t){let n=-1;return e.forEach(function(e,r){-1===n&&e===t&&(n=r)}),-1!==n?n:(n=l++,e.set(n,t),n)}}function C(e){return!!c&&c.update("function"==typeof e?e(c.getData()):e)}},t.componentListener=function(e,...t){const n=["oninit","onmount","onupdate"],r=n.indexOf((/^on/g.test(e)?"":"on")+e);if(-1===r)throw new Error(`Unsupported event name '${e}'!`);return Object.freeze([n[r],t])},t.assign=function(e,...t){const n=Object.assign({},...t),r=Object.keys(n);for(let t,o,i=0,s=r.length;i<s;i++)if(void 0!==(o=n[t=r[i]]))switch(t){case"style":if("string"==typeof o)e.setAttribute("style",o);else for(let t,n=0,r=Object.keys(o),i=r.length;n<i;n++)t=r[n],e.style.setProperty(t,o[t]);break;case"style_vars":for(let t,n=0,r=Object.keys(o),i=r.length;n<i;n++)t=r[n],e.style.setProperty(t,o[t]);break;case"classList":if(!e[t].toggle)break;for(let t,n,r=0,i=Object.keys(o),s=i.length;r<s;r++)-1===(n=o[t=i[r]])?e.classList.toggle(t):e.classList.toggle(t,Boolean(n));break;case"dataset":for(let t,n=0,r=Object.keys(o),i=r.length;n<i;n++)t=r[n],e.dataset[t]=o[t];break;case"href":e.setAttribute(t,o);break;default:e[t]=o}else Reflect.has(e,t)&&Reflect.deleteProperty(e,t);return e},t.assignNS=function(e,t,...n){const r=Object.assign({},...n),o=Object.keys(r);for(let e,n,i=0,s=o.length;i<s;i++)if(void 0!==(n=r[e=o[i]]))switch(e){case"style":if("string"==typeof n)t.setAttributeNS(null,"style",n);else for(let e,r=0,o=Object.keys(n),i=o.length;r<i;r++)e=o[r],t.style.setProperty(e,n[e]);break;case"style_vars":for(let e,r=0,o=Object.keys(n),i=o.length;r<i;r++)e=o[r],t.style.setProperty(e,n[e]);break;case"classList":if(!t[e].toggle)break;for(let e,r,o=0,i=Object.keys(n),s=i.length;o<s;o++)-1===(r=n[e=i[o]])?t.classList.toggle(e):t.classList.toggle(e,Boolean(r));break;default:t.setAttributeNS(null,e,n)}else t.hasAttributeNS(null,e)&&t.removeAttributeNS(null,e);return t},e.$dom=t}init(window);